---
title: 'Season 2019 Championship'
author: "Giuliano Sposito"
date: '2019-12-25'
displayInList: yes
displayInMenu: no
dropCap: yes
draft: no
resources:
- name: featuredImage
  params:
    description: Fantasy Championship
  src: indaiatuba_riders_champion.png
slug: rank-week-16
tags:
- playoffs
- rank
- points
- wins and losses
categories:
- ranking
params:
  week: 16
editor_options: 
  chunk_output_type: console
---

League Champion: *Indaiatuba Riders*

<!--more-->

## Season 2019 Standing

![Final Rank](/img/season2019_final_rank.jpeg)

## Week 16 Trophies

![Trophies](/img/trophies_week16.jpg)

```{r setup, echo = FALSE, warning = FALSE, message = FALSE}
# put rnotbook in the same workdir
knitr::opts_knit$set(root.dir = normalizePath(rprojroot::find_rstudio_root_file())) 
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

## Best League Players of Week

```{r bestTeamPlayers}

# libs
library(tidyverse)
library(ggimage)
library(knitr)
library(glue)
library(kableExtra)
  
# parameter
curr.week <- params$week

# so para pegar o time da liga do jogador
player.team <- readRDS(glue("./data/week{curr.week}_players_projections.rds")) %>% 
  select(id, nfl_id, fantasy.team)

# estatisticas do jogador
player.points <- readRDS("./data/players_points.rds") %>% 
  filter(week==curr.week)

# junta
players <- inner_join(player.team, player.points, by = c("id", "nfl_id")) %>% 
  select(-rosterSlots)  

buildTeam <- function(.players){
  # starters - slots unicos
  st01 <- tibble(
    pos=c("QB","RB","WR","TE","K","DEF"),
    qtd=c(1,2,2,1,1,1)
  ) %>% 
    split(1:nrow(.)) %>% 
    map_df(function(.x, .p){
      .p %>% 
        filter(position==.x$pos) %>%
        top_n(.x$qtd, points)
    }, .p=.players)
  
  # starters - slot versatil
  starters <- .players %>% 
    filter(position %in% c("WR","RB")) %>% 
    anti_join(st01, by = c("id", "nfl_id")) %>% 
    top_n(1, points) %>% 
    bind_rows(st01,.)
  
  ideal_team <- starters %>% 
    mutate(fullName = paste0(firstName, " ", lastName)) %>% 
    select(position, fullName, team, points, fantasy.team)
}

# filtra melhores players com time
players %>% 
  filter(fantasy.team!="*FreeAgent") %>% 
  buildTeam() %>% 
  kable()
  
```

## Best Free Agents of Week

```{r bestFAPlayers}

# filtra melhores players com time
players %>% 
  filter(fantasy.team=="*FreeAgent") %>% 
  buildTeam() %>% 
  kable()

```

## To be continued...

![Madden Course](/img/maldicao_madden_2020.jpeg)